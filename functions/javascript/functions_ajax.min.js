function AJAX_Handler(a){this.async=a?true:false}AJAX_Handler.prototype.init=function(){try{this.handler=new XMLHttpRequest();return(this.handler.setRequestHeader?true:false)}catch(e){try{this.handler=eval("new ActiveXObject('Microsoft.XMLHTTP');");return true}catch(e){return false}}};AJAX_Handler.prototype.is_compatible=function(){if(typeof ilance_disable_ajax!="undefined"&&ilance_disable_ajax==2){return false}if(checkie&&!checkie4){return true}else{if(typeof XMLHttpRequest!="undefined"){try{return XMLHttpRequest.prototype.setRequestHeader?true:false}catch(b){try{var a=new XMLHttpRequest();return a.setRequestHeader?true:false}catch(b){return false}}}else{return false}}};AJAX_Handler.prototype.not_ready=function(){return(this.handler.readyState&&(this.handler.readyState<4))};AJAX_Handler.prototype.onreadystatechange=function(a){if(!this.handler){if(!this.init()){return false}}if(typeof a=="function"){this.handler.onreadystatechange=a}else{alert("XML Sender OnReadyState event is not a function")}};AJAX_Handler.prototype.send=function(a,b){if(!this.handler){if(!this.init()){return false}}if(!this.not_ready()){this.handler.open("POST",a,this.async);this.handler.setRequestHeader("Content-Type","application/x-www-form-urlencoded");this.handler.send(b+"&s="+fetch_session_id());if(!this.async&&this.handler.readyState==4&&this.handler.status==200){return true}}return false};AJAX_Handler.prototype.fetch_data=function(a){if(a&&a.firstChild&&a.firstChild.nodeValue){return unescape_cdata(a.firstChild.nodeValue)}else{return""}};var AJAX_Compatible=AJAX_Handler.prototype.is_compatible();